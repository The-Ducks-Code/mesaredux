document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("BGM"),t=document.getElementById("now-playing");if(e&&t){var n=document.getElementById("bgm-play-toggle"),a=document.getElementById("bgm-mute-toggle"),d=function(){n&&(n.textContent=e.paused?"play":"pause")},o=function(){a&&(a.textContent=e.muted?"unmute":"mute")};n&&n.addEventListener("click",(function(){e.paused?e.play().catch((function(e){console.error("Audio play failed:",e),d()})):e.pause()})),a&&a.addEventListener("click",(function(){e.muted=!e.muted,o()})),e.addEventListener("playing",u),e.addEventListener("ended",(function(){u(),d()})),e.addEventListener("loadedmetadata",u),e.addEventListener("pause",d),e.addEventListener("volumechange",o),e.addEventListener("trackmetadatachange",u),u(),d(),o();var r=document.querySelector("#volume-slider");r.addEventListener("change",(t=>{console.log(r.value),e.volume=r.value/100}))}function u(){var n=function(){var t=e.dataset.trackDisplay;if(t)return t;var n=[e.dataset.trackArtist,e.dataset.trackTitle].filter(Boolean).join(" â€” ");if(n)return n;var a=e.dataset.trackSource||e.currentSrc||e.src;if(!a)return"";var d=a.split("/").pop();return d?decodeURIComponent(d):""}();t.textContent=n||"none",d(),o()}}));
